{"version":3,"file":"static/js/935.301f1e14.chunk.js","mappings":"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","sources":["Component/PrankLink/Gallery.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport PrankBtn from './PrankBtn';\r\nimport watermark from \"../../img/watermark.png\";\r\nimport share from \"../../img/share.png\";\r\nimport Share from './Share';\r\nimport InterstitialAd from './displayads';\r\nimport AdComponent from './AdSenseAd';\r\n\r\nconst Gallery = ({ data2 }) => {\r\n    const [imageStates, setImageStates] = useState({\r\n        main: { loaded: false, error: false },\r\n        cover: { loaded: false, error: false }\r\n    });\r\n    const [isShareOpen, setIsShareOpen] = useState(false);\r\n    const [showCoverImage, setShowCoverImage] = useState(true);\r\n    const [showAd, setShowAd] = useState(false);\r\n\r\n    const proxyUrl = \"https://pslink.world/api/proxy\";\r\n\r\n    const loadImage = (url, type) => {\r\n        if (!url) return;\r\n\r\n        const img = new Image();\r\n        \r\n        img.onload = () => {\r\n            setImageStates(prev => ({\r\n                ...prev,\r\n                [type]: { loaded: true, error: false }\r\n            }));\r\n        };\r\n\r\n        img.onerror = () => {\r\n            setImageStates(prev => ({\r\n                ...prev,\r\n                [type]: { loaded: false, error: true }\r\n            }));\r\n        };\r\n\r\n        img.src = `${proxyUrl}?url=${encodeURIComponent(url)}`;\r\n\r\n        return () => {\r\n            img.onload = null;\r\n            img.onerror = null;\r\n        };\r\n    };\r\n\r\n    useEffect(() => {\r\n        const mainCleanup = loadImage(data2?.File, 'main');\r\n        const coverCleanup = loadImage(data2?.CoverImage, 'cover');\r\n\r\n        const adTimeout = setTimeout(() => {\r\n            if (showAd) {\r\n                handleAdError();\r\n            }\r\n        }, 5000); // Increased timeout to 5 seconds for better reliability\r\n\r\n        return () => {\r\n            mainCleanup?.();\r\n            coverCleanup?.();\r\n            clearTimeout(adTimeout);\r\n        };\r\n    }, [data2?.File, data2?.CoverImage, showAd]);\r\n\r\n    const onShareClick = () => {\r\n        setShowAd(true);\r\n    };\r\n\r\n    const handleAdComplete = () => {\r\n        setShowAd(false);\r\n        setIsShareOpen(true);\r\n    };\r\n\r\n    const handleAdError = () => {\r\n        setShowAd(false);\r\n        setIsShareOpen(true);\r\n        setShowCoverImage(false);\r\n    };\r\n\r\n    const handleCloseClick = () => {\r\n        setShowCoverImage(false);\r\n    };\r\n\r\n    const getProxiedUrl = (url) => `${proxyUrl}?url=${encodeURIComponent(url)}`;\r\n\r\n    return (\r\n        <div className=\"full-page-background\">\r\n            {showAd && <InterstitialAd onAdComplete={handleAdComplete} onAdError={handleAdError} />}\r\n\r\n            <div className=\"content-container\">\r\n                <Row className=\"content px-3 overflow-hidden flex-grow-1\">\r\n                    <Col className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                        <div className=\"img-div mt-2 position-relative overflow-hidden rounded-4 d-flex align-items-center justify-content-center border border-white\">\r\n                            <div className=\"blurred-bg\" />\r\n\r\n                            {!imageStates.main.loaded && !imageStates.main.error && (\r\n                                <div className=\"loading-placeholder rounded-4\">\r\n                                    <div className=\"spinner-border text-light\" role=\"status\">\r\n                                        <span className=\"visually-hidden\">Loading...</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {imageStates.main.error && (\r\n                                <div className=\"error-message text-light\">\r\n                                    Failed to load image\r\n                                </div>\r\n                            )}\r\n\r\n                            {imageStates.main.loaded && (\r\n                                <>\r\n                                    <img\r\n                                        src={getProxiedUrl(data2.File)}\r\n                                        alt=\"prankImage\"\r\n                                        className=\"img-fluid position-absolute\"\r\n                                    />\r\n\r\n                                    {showCoverImage && imageStates.cover.loaded && (\r\n                                        <div className=\"cover-image-overlay\">\r\n                                            <div\r\n                                                className=\"close-button position-absolute cursor\"\r\n                                                onClick={handleCloseClick}\r\n                                                role=\"button\"\r\n                                                aria-label=\"Close cover image\"\r\n                                                tabIndex={0}\r\n                                                onKeyPress={(e) => e.key === 'Enter' && handleCloseClick()}\r\n                                                style={{ zIndex: 2 }}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={faTimes} />\r\n                                            </div>\r\n                                            <img\r\n                                                src={getProxiedUrl(data2.CoverImage)}\r\n                                                alt=\"Cover\"\r\n                                                className=\"full-cover-image\"\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div>\r\n                                        <div\r\n                                            className=\"share-btn position-absolute text-black cursor\"\r\n                                            onClick={onShareClick}\r\n                                            role=\"button\"\r\n                                            aria-label=\"Share this content\"\r\n                                            tabIndex={0}\r\n                                            onKeyPress={(e) => e.key === 'Enter' && onShareClick()}\r\n                                            style={{ zIndex: 2 }}\r\n                                        >\r\n                                            <img src={share} alt=\"share\" width={18} style={{ paddingRight: \"2px\" }} />\r\n                                        </div>\r\n                                        <Share\r\n                                            show={isShareOpen}\r\n                                            onHide={() => setIsShareOpen(false)}\r\n                                            data2={data2}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"position-absolute text-black watermark\">\r\n                                        <img src={watermark} alt=\"Prankster\" width={120} />\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"mt-3\">\r\n                            <PrankBtn />\r\n                        </div>\r\n\r\n                        <AdComponent />\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n\r\n            <style>{`\r\n                .full-page-background {\r\n                    position: relative;\r\n                    min-height: 100vh;\r\n                    width: 100%;\r\n                    display: flex;\r\n                    overflow: hidden;\r\n                    background-color: #1c1c1c;\r\n                }\r\n\r\n                .cover-image-overlay::before {\r\n                    content: \"\";\r\n                    position: absolute;\r\n                    top: -10%;\r\n                    left: -10%;\r\n                    right: -10%;\r\n                    bottom: -10%;\r\n                    background-image: url('${data2?.CoverImage ? getProxiedUrl(data2.CoverImage) : ''}');\r\n                    background-size: cover;\r\n                    background-position: center;\r\n                    filter: blur(20px);\r\n                    opacity: 0.6;\r\n                    transform: scale(1.1);\r\n                    z-index: -1;\r\n                }\r\n\r\n                .content-container {\r\n                    position: relative;\r\n                    z-index: 2;\r\n                    width: 100%;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    min-height: 100vh;\r\n                }\r\n\r\n                .img-div {\r\n                    position: relative;\r\n                    background-color: transparent;\r\n                }\r\n\r\n                .blurred-bg {\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    right: 0;\r\n                    bottom: 0;\r\n                    background-image: ${imageStates.main.loaded && data2?.File ? `url('${getProxiedUrl(data2.File)}')` : 'none'};\r\n                    background-size: cover;\r\n                    background-position: center;\r\n                    filter: blur(15px);\r\n                    backdrop-filter: blur(15px);\r\n                    -webkit-backdrop-filter: blur(15px);\r\n                    z-index: 0;\r\n                }\r\n\r\n                .img-fluid {\r\n                    position: relative;\r\n                    z-index: 1;\r\n                }\r\n\r\n                .loading-placeholder {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    background: rgba(0,0,0,0.5);\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                }\r\n\r\n                .error-message {\r\n                    padding: 1rem;\r\n                    text-align: center;\r\n                }\r\n\r\n                .watermark {\r\n                    top: -23px;\r\n                    left: -22px;\r\n                    z-index: 2;\r\n                }\r\n\r\n                .content {\r\n                    color: white;\r\n                    text-align: center;\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Gallery;"],"names":["_ref","data2","imageStates","setImageStates","useState","main","loaded","error","cover","isShareOpen","setIsShareOpen","showCoverImage","setShowCoverImage","showAd","setShowAd","proxyUrl","loadImage","url","type","img","Image","onload","prev","onerror","src","encodeURIComponent","useEffect","mainCleanup","File","coverCleanup","CoverImage","adTimeout","setTimeout","handleAdError","clearTimeout","onShareClick","handleCloseClick","getProxiedUrl","_jsxs","className","children","_jsx","InterstitialAd","onAdComplete","handleAdComplete","onAdError","Row","Col","role","_Fragment","alt","onClick","tabIndex","onKeyPress","e","key","style","zIndex","FontAwesomeIcon","icon","faTimes","share","width","paddingRight","Share","show","onHide","watermark","PrankBtn","AdComponent"],"sourceRoot":""}