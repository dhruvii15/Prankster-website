"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[830],{4830:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(5043),r=n(582),s=n(1072),i=n(8602),a=n(3910),l=n(7929),c=n(5584),d=n(4771),u=n(81),h=n(3545),m=n(579);const g=e=>{let{data2:t}=e;const n=(0,o.useRef)(null),g=(0,o.useRef)(null),x=(0,o.useRef)(0),[p,v]=(0,o.useState)(!1),[b,f]=(0,o.useState)(!1),[j,y]=(0,o.useState)(!1),[w,I]=(0,o.useState)(!1),[k,C]=(0,o.useState)(null),[N,R]=(0,o.useState)(!0);(0,o.useEffect)((()=>{g.current=document.createElement("canvas")}),[]);const z=()=>{I(!1),f(!0)};(0,o.useEffect)((()=>{if(null!==t&&void 0!==t&&t.CoverImage){const e=new Image;e.src=t.CoverImage,e.onload=()=>v(!0)}const e=setTimeout((()=>{w&&z()}),500);return()=>clearTimeout(e)}),[null===t||void 0===t?void 0:t.CoverImage,w]);const E=()=>{if(n.current&&!(x.current>=5))try{const e=n.current,t=g.current;if(0===e.videoWidth||0===e.videoHeight)return x.current++,void setTimeout(E,200);t.width=e.videoWidth,t.height=e.videoHeight;const o=t.getContext("2d");if(!o)return void console.error("Could not get 2D context");o.clearRect(0,0,t.width,t.height),o.drawImage(e,0,0,t.width,t.height);const r=t.toDataURL("image/jpeg",.5);"data:,"!==r&&r.length>100?C(r):(x.current++,setTimeout(E,200))}catch(e){console.error("Frame capture error:",e),x.current++,setTimeout(E,200)}},S=()=>{I(!0)},A={backgroundImage:k?`url('${k}')`:p&&null!==t&&void 0!==t&&t.CoverImage?`url('http://localhost:5001/api/proxy?url=${encodeURIComponent(t.CoverImage)}')`:"none",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",filter:"blur(8px)",transform:"scale(1.1)",width:"100%",height:"100%"};return(0,m.jsxs)("div",{className:"full-page-background",children:[w&&(0,m.jsx)(h.A,{onAdComplete:()=>{I(!1),f(!0)},onAdError:z}),(0,m.jsx)("div",{className:"content-container",children:(0,m.jsx)(s.A,{className:"content px-3 overflow-hidden flex-grow-1",children:(0,m.jsxs)(i.A,{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsxs)("div",{className:"img-div3 position-relative rounded-4 overflow-hidden border border-white",children:[(0,m.jsx)("div",{className:"blurred-bg",style:A}),(0,m.jsxs)("video",{ref:n,loop:!0,playsInline:!0,className:"w-100 h-100 position-absolute",style:{display:N?"none":"block"},children:[(0,m.jsx)("source",{src:`http://localhost:5001/api/proxy?url=${encodeURIComponent(t.File)}`,type:"video/mp4"}),"Your browser does not support the video tag."]}),!p&&(0,m.jsx)("div",{className:"loading-placeholder rounded-4",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2},children:(0,m.jsx)("div",{className:"spinner-border text-light",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),p&&(0,m.jsxs)(m.Fragment,{children:[N&&(0,m.jsxs)("div",{className:"cover-image-overlay",children:[(0,m.jsx)("button",{className:"close-button",onClick:async()=>{if(n.current)try{const e=n.current;e.volume=1,e.muted=!1,x.current=0,e.addEventListener("loadedmetadata",(()=>{E()}),{once:!0}),await e.play(),y(!0),R(!1);[100,300].forEach((e=>{setTimeout((()=>{k||E()}),e)}))}catch(e){console.error("Error playing video:",e),null!==t&&void 0!==t&&t.CoverImage&&C(t.CoverImage)}},"aria-label":"Close cover image",children:(0,m.jsx)(a.g,{icon:l.GRI})}),(0,m.jsx)("img",{src:`http://localhost:5001/api/proxy?url=${encodeURIComponent(t.CoverImage)}`,alt:"Cover",className:"full-cover-image"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"share-btn position-absolute text-black cursor-pointer",onClick:S,role:"button","aria-label":"Share this content",tabIndex:0,onKeyPress:e=>"Enter"===e.key&&S(),style:{zIndex:3},children:(0,m.jsx)("img",{src:d,alt:"share",width:20,style:{paddingRight:"2px"}})}),(0,m.jsx)(u.A,{show:b,onHide:()=>f(!1),data2:t})]}),(0,m.jsx)("div",{className:"position-absolute text-black",style:{left:"-22px",top:"-23px",zIndex:3},children:(0,m.jsx)("img",{src:c,alt:"Prankster",width:120})}),j&&(0,m.jsx)("div",{className:"share-btn2 position-absolute",style:{left:"5px",bottom:"10px",zIndex:3,cursor:"pointer"},children:(0,m.jsx)(a.g,{icon:l.G1Y,className:"fs-5 text-black"})})]})]}),(0,m.jsx)("div",{className:"mt-3",children:(0,m.jsx)(r.A,{})})]})})}),(0,m.jsx)("style",{children:"\n        .content-container {\n          position: relative;\n          z-index: 2;\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          min-height: 100vh;\n        }\n\n        .blurred-bg {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-size: cover;\n          background-position: center;\n          filter: blur(8px);\n          z-index: 0;\n          transition: background-image 0.01s ease;\n        }\n\n        .content {\n          color: white;\n          text-align: center;\n          flex: 1;\n          display: flex;\n          align-items: center;\n        }\n      "})]})}}}]);
//# sourceMappingURL=830.049a2a2e.chunk.js.map